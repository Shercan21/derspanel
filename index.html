<!DOCTYPE html>

<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4F46E5">
    <link rel="manifest" href="manifest.json">
    <title>üìö Ders Paneli</title>
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4F46E5">

    <!-- iOS i√ßin -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon-180.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }
        body {
            overscroll-behavior: none;
            touch-action: pan-x pan-y;
        }
        @media (display-mode: standalone) {
            body {
                padding-top: env(safe-area-inset-top);
                padding-bottom: env(safe-area-inset-bottom);
            }
        }
    </style>
    <style>
    #splash {
    position: fixed;
    width: 100%;
    height: 100%;
    background: #4B2EFF;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    font-weight: bold;
    z-index: 9999;
    }

    .fade-out {
    opacity: 0;
    transition: 0.6s;
    }
    </style>

</head>
<div id="splash">
  <h1>DERS PANELƒ∞</h1>
</div>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div id="root"></div>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
    const { useState, useEffect } = React;

    const Icon = ({ name, size = 20, className = "" }) => {
        const icons = {
            users: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>,
            calendar: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>,
            book: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>,
            dollar: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>,
            plus: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>,
            x: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>,
            edit: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>,
            trash: <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
        };
        return icons[name] || null;
    };

    const DersPanel = () => {
        const [showMoney, setShowMoney] = useState(true);
        const [dersFiltre, setDersFiltre] = useState("tum");

        const [activeTab, setActiveTab] = useState('ogrenciler');
        const [ogrenciler, setOgrenciler] = useState([]);
        const [seciliOgrenci, setSeciliOgrenci] = useState("tum");

        const [dersler, setDersler] = useState([]);
        const [odevler, setOdevler] = useState([]);
        const [editingId, setEditingId] = useState(null);
         const [dersForm, setDersForm] = useState({
            ogrenciId: '',
            tarih: '',
            saat: '',
            sure: 1,
            konu: '',
            ucret: '',
            odendi: false
            });
        const [showOgrenciModal, setShowOgrenciModal] = useState(false);
        const [showDersModal, setShowDersModal] = useState(false);
        const [showOdevModal, setShowOdevModal] = useState(false);
        
        const [ogrenciForm, setOgrenciForm] = useState({ ad: '', telefon: '', sinif: '', ucret: '' });
        
        const [odevForm, setOdevForm] = useState({ ogrenciId: '', konu: '', aciklama: '', tamamlandi: false });

        useEffect(() => {
            const savedOgrenciler = localStorage.getItem('derspanel_ogrenciler');
            const savedDersler = localStorage.getItem('derspanel_dersler');
            const savedOdevler = localStorage.getItem('derspanel_odevler');
            
            if (savedOgrenciler) setOgrenciler(JSON.parse(savedOgrenciler));
            if (savedDersler) setDersler(JSON.parse(savedDersler));
            if (savedOdevler) setOdevler(JSON.parse(savedOdevler));
        }, []);

        useEffect(() => {
            localStorage.setItem('derspanel_ogrenciler', JSON.stringify(ogrenciler));
        }, [ogrenciler]);

        useEffect(() => {
            localStorage.setItem('derspanel_dersler', JSON.stringify(dersler));
        }, [dersler]);

        useEffect(() => {
            localStorage.setItem('derspanel_odevler', JSON.stringify(odevler));
        }, [odevler]);
        useEffect(() => {
          if (!dersForm.ogrenciId) return;
        
          const ogrenci = ogrenciler.find(
            o => o.id === parseInt(dersForm.ogrenciId)
          );
        
          if (!ogrenci) return;
        
          const saatlik = parseFloat(ogrenci.ucret || 0);
          const sure = parseFloat(dersForm.sure || 0);
        
          const toplam = saatlik * sure;
        
          setDersForm(prev => ({
            ...prev,
            ucret: toplam.toFixed(2)
          }));
        }, [dersForm.ogrenciId, dersForm.sure]);
        

        const ogrenciEkle = () => {
            if (!ogrenciForm.ad) return alert('L√ºtfen √∂ƒürenci adƒ± girin!');
            
            if (editingId) {
                setOgrenciler(ogrenciler.map(o => 
                    o.id === editingId ? { ...ogrenciForm, id: editingId } : o
                ));
                setEditingId(null);
            } else {
                setOgrenciler([...ogrenciler, { ...ogrenciForm, id: Date.now() }]);
            }
            
            setOgrenciForm({ ad: '', telefon: '', sinif: '', ucret: '' });
            setShowOgrenciModal(false);
        };

        const ogrenciSil = (id) => {
            if (confirm('Bu √∂ƒürenciyi silmek istediƒüinizden emin misiniz?')) {
                setOgrenciler(ogrenciler.filter(o => o.id !== id));
            }
        };

        const ogrenciDuzenle = (ogrenci) => {
            setOgrenciForm(ogrenci);
            setEditingId(ogrenci.id);
            setShowOgrenciModal(true);
        };

        const dersEkle = () => {
            if (!dersForm.ogrenciId || !dersForm.tarih || !dersForm.saat) {
                return alert('L√ºtfen t√ºm zorunlu alanlarƒ± doldurun!');
            }
            
            const yeniDers = {
                ...dersForm,
                id: Date.now(),
                odendi: false
            };
            
            setDersler([...dersler, yeniDers]);
            setDersForm({ ogrenciId: '', tarih: '', saat: '', konu: '', ucret: '', odendi: false });
            setShowDersModal(false);
        };

        const dersSil = (id) => {
            if (confirm('Bu dersi silmek istediƒüinizden emin misiniz?')) {
                setDersler(dersler.filter(d => d.id !== id));
            }
        };

        const odemeDurumDegistir = (dersId) => {
            setDersler(prevDersler => 
                prevDersler.map(ders => {
                    if (ders.id === dersId) {
                        return { ...ders, odendi: !ders.odendi };
                    }
                    return ders;
                })
            );
        };

        const odevEkle = () => {
            if (!odevForm.ogrenciId || !odevForm.konu) {
                return alert('L√ºtfen √∂ƒürenci ve konu se√ßin!');
            }
            
            const yeniOdev = {
                ...odevForm,
                id: Date.now(),
                tamamlandi: false
            };
            
            setOdevler([...odevler, yeniOdev]);
            setOdevForm({ ogrenciId: '', konu: '', aciklama: '', tamamlandi: false });
            setShowOdevModal(false);
        };

        const odevSil = (id) => {
            if (confirm('Bu √∂devi silmek istediƒüinizden emin misiniz?')) {
                setOdevler(odevler.filter(o => o.id !== id));
            }
        };

        const odevTamamla = (id) => {
            setOdevler(odevler.map(o => 
                o.id === id ? { ...o, tamamlandi: !o.tamamlandi } : o
            ));
        };

        const getOgrenciAd = (id) => {
            const ogrenci = ogrenciler.find(o => o.id === parseInt(id));
            return ogrenci ? ogrenci.ad : 'Bilinmeyen';
        };

        const toplamKazanc = dersler
            .filter(d => d.odendi === true)
            .reduce((sum, d) => sum + parseFloat(d.ucret || 0), 0);

        const bekleyenOdeme = dersler
            .filter(d => d.odendi === false)
            .reduce((sum, d) => sum + parseFloat(d.ucret || 0), 0);

        return (
            <div className="min-h-screen pb-20">
                {/* Header */}
                <div className="bg-white shadow-md sticky top-0 z-10">
                    <div className="px-4 py-4">
                        <h1 className="text-2xl font-bold text-indigo-600">üìö Ders Paneli</h1>
                        <p className="text-gray-600 text-xs">√ñzel derslerinizi kolayca y√∂netin</p>
                    </div>
                </div>

                {/* Navigation Tabs */}
                <div className="px-2 mt-4">
                    <div className="grid grid-cols-2 gap-2 mb-4">
                        {[
                            { id: 'ogrenciler', label: '√ñƒürenciler', icon: 'users' },
                            { id: 'dersler', label: 'Dersler', icon: 'calendar' },
                            { id: 'odevler', label: '√ñdevler', icon: 'book' },
                            { id: 'muhasebe', label: 'Muhasebe', icon: 'dollar' }
                        ].map(tab => (
                            <button
                                key={tab.id}
                                onClick={() => setActiveTab(tab.id)}
                                className={`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all ${
                                    activeTab === tab.id
                                        ? 'bg-indigo-600 text-white shadow-lg'
                                        : 'bg-white text-gray-700'
                                }`}
                            >
                                <Icon name={tab.icon} size={18} />
                                <span className="text-sm">{tab.label}</span>
                            </button>
                        ))}
                    </div>

                    {/* √ñƒürenciler Tab */}
                    {activeTab === 'ogrenciler' && (
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <div className="flex justify-between items-center mb-4">
                                <h2 className="text-xl font-bold text-gray-800">√ñƒürenciler ({ogrenciler.length})</h2>
                                <button
                                    onClick={() => {
                                        setOgrenciForm({ ad: '', telefon: '', sinif: '', ucret: '' });
                                        setEditingId(null);
                                        setShowOgrenciModal(true);
                                    }}
                                    className="flex items-center gap-1 bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm"
                                >
                                    <Icon name="plus" size={16} />
                                    Yeni
                                </button>
                            </div>
                            
                            <div className="space-y-3">
                                {ogrenciler.map(ogrenci => (
                                    <div key={ogrenci.id} className="border border-gray-200 rounded-lg p-3">
                                        <div className="flex justify-between items-start">
                                            <div className="flex-1">
                                                <h3 className="font-semibold text-gray-800">{ogrenci.ad}</h3>
                                                <p className="text-gray-600 text-sm">üìû {ogrenci.telefon}</p>
                                                <p className="text-gray-600 text-sm">üéì {ogrenci.sinif}. Sƒ±nƒ±f</p>
                                                <p className="text-indigo-600 font-medium text-sm mt-1">üí∞ {showMoney ? ogrenci.ucret + " TL" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"} /ders</p>
                                            </div>
                                            <div className="flex gap-1">
                                                <button
                                                    onClick={() => ogrenciDuzenle(ogrenci)}
                                                    className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg"
                                                >
                                                    <Icon name="edit" size={16} />
                                                </button>
                                                <button
                                                    onClick={() => ogrenciSil(ogrenci.id)}
                                                    className="p-2 text-red-600 hover:bg-red-50 rounded-lg"
                                                >
                                                    <Icon name="trash" size={16} />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                                {ogrenciler.length === 0 && (
                                    <div className="text-center py-8 text-gray-400">
                                        <Icon name="users" size={40} className="mx-auto mb-2 opacity-30" />
                                        <p className="text-sm">Hen√ºz √∂ƒürenci eklenmemi≈ü</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Dersler Tab */}
                    {activeTab === 'dersler' && (
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <div className="flex justify-between items-center mb-4">
                                <h2 className="text-xl font-bold text-gray-800">Dersler ({dersler.length})</h2>
                                <div className="flex gap-2">
                                <select
                                        value={seciliOgrenci}
                                        onChange={(e) => setSeciliOgrenci(e.target.value)}
                                        className="border border-gray-300 rounded px-2 py-1 text-sm"
                                        >
                                        <option value="tum">T√ºm √ñƒürenciler</option>
                                        {ogrenciler.map(ogrenci => (
                                            <option key={ogrenci.id} value={ogrenci.id}>
                                            {ogrenci.ad}
                                            </option>
                                        ))}
                                        </select>

                            
                                <button
                                    onClick={() => {
                                        if (ogrenciler.length === 0) {
                                            alert('√ñnce √∂ƒürenci ekleyin!');
                                            return;
                                        }
                                        setDersForm({ ogrenciId: '', tarih: '', saat: '', konu: '', ucret: '', odendi: false });
                                        setShowDersModal(true);
                                    }}
                                    className="flex items-center gap-1 bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm"
                                >
                                    <Icon name="plus" size={16} />
                                    Yeni
                                </button>
                            </div>
                            </div> 
                            <div className="space-y-3">
                                 {dersler
                                    .filter(ders => {
                                        if (seciliOgrenci === "tum") return true;
                                        return parseInt(ders.ogrenciId) === parseInt(seciliOgrenci);
                                    })
                                    .sort((a, b) => new Date(b.tarih + ' ' + b.saat) - new Date(a.tarih + ' ' + a.saat))
                                    .map(ders => (

                                    
                                    <div key={ders.id} className={`border rounded-lg p-3 ${
                                        ders.odendi === true ? 'border-green-300 bg-green-50' : 'border-gray-200 bg-white'
                                    }`}>
                                        <div className="flex justify-between items-start gap-3">
                                            <div className="flex-1 min-w-0">
                                                <h3 className="font-semibold text-gray-800 truncate">{getOgrenciAd(ders.ogrenciId)}</h3>
                                                <p className="text-gray-600 text-xs mt-1">üìÖ {ders.tarih} - üïê {ders.saat}</p>
                                                <p className="text-gray-700 text-sm mt-1">üìñ {ders.konu || 'Konu yok'}</p>
                                                <p className="text-indigo-600 font-bold mt-1">üí∞ {showMoney ? ders.ucret + " TL" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"} </p>
                                            </div>
                                            <div className="flex flex-col gap-2 flex-shrink-0">
                                                <button
                                                    type="button"
                                                    onClick={() => odemeDurumDegistir(ders.id)}
                                                    className={`px-3 py-1 rounded-lg text-xs font-bold whitespace-nowrap ${
                                                        ders.odendi === true
                                                            ? 'bg-green-600 text-white'
                                                            : 'bg-yellow-500 text-white'
                                                    }`}
                                                >
                                                    {ders.odendi === true ? '‚úì √ñDENDƒ∞' : 'BEKLƒ∞YOR'}
                                                </button>
                                                <button
                                                    onClick={() => dersSil(ders.id)}
                                                    className="p-1 text-red-600 hover:bg-red-50 rounded-lg"
                                                >
                                                    <Icon name="trash" size={16} />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                                {dersler.length === 0 && (
                                    <div className="text-center py-8 text-gray-400">
                                        <Icon name="calendar" size={40} className="mx-auto mb-2 opacity-30" />
                                        <p className="text-sm">Hen√ºz ders eklenmemi≈ü</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* √ñdevler Tab */}
                    {activeTab === 'odevler' && (
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <div className="flex justify-between items-center mb-4">
                                <h2 className="text-xl font-bold text-gray-800">√ñdevler ({odevler.length})</h2>
                                <button
                                    onClick={() => {
                                        if (ogrenciler.length === 0) {
                                            alert('√ñnce √∂ƒürenci ekleyin!');
                                            return;
                                        }
                                        setOdevForm({ ogrenciId: '', konu: '', aciklama: '', tamamlandi: false });
                                        setShowOdevModal(true);
                                    }}
                                    className="flex items-center gap-1 bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm"
                                >
                                    <Icon name="plus" size={16} />
                                    Yeni
                                </button>
                            </div>
                            
                            <div className="space-y-3">
                                {odevler.map(odev => (
                                    <div key={odev.id} className={`border rounded-lg p-3 ${
                                        odev.tamamlandi ? 'border-green-200 bg-green-50' : 'border-gray-200'
                                    }`}>
                                        <div className="flex justify-between items-start">
                                            <div className="flex-1">
                                                <h3 className="font-semibold text-gray-800">{getOgrenciAd(odev.ogrenciId)}</h3>
                                                <p className="text-gray-700 font-medium text-sm mt-1">üìù {odev.konu}</p>
                                                <p className="text-gray-600 text-xs mt-1">{odev.aciklama}</p>
                                            </div>
                                            <div className="flex gap-1">
                                                <button
                                                    onClick={() => odevTamamla(odev.id)}
                                                    className={`px-2 py-1 rounded-lg text-xs font-medium ${
                                                        odev.tamamlandi
                                                            ? 'bg-green-600 text-white'
                                                            : 'bg-gray-300 text-gray-700'
                                                    }`}
                                                >
                                                    {odev.tamamlandi ? '‚úì' : '‚óã'}
                                                </button>
                                                <button
                                                    onClick={() => odevSil(odev.id)}
                                                    className="p-1 text-red-600 hover:bg-red-50 rounded-lg"
                                                >
                                                    <Icon name="trash" size={16} />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                                {odevler.length === 0 && (
                                    <div className="text-center py-8 text-gray-400">
                                        <Icon name="book" size={40} className="mx-auto mb-2 opacity-30" />
                                        <p className="text-sm">Hen√ºz √∂dev eklenmemi≈ü</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Muhasebe Tab */}
                    {activeTab === 'muhasebe' && (
                        <div className="bg-white rounded-xl shadow-lg p-4">
                            <div className="flex justify-between items-center mb-4">
                              <h2 className="text-xl font-bold text-gray-800">
                                Muhasebe
                              </h2>
                              <button
                                onClick={() => setShowMoney(!showMoney)}
                                className="text-xl"
                              >
                                üëÅ
                              </button>
                            </div>

                            
                            <div className="grid md:grid-cols-2 gap-4 mb-6">

                              {/* √ñDENEN */}
                              <div className="bg-green-50 border-2 border-green-300 rounded-xl p-5 shadow-sm">
                                <h3 className="text-green-700 font-semibold text-sm">
                                  √ñdenen
                                </h3>
                                <p className="text-2xl font-bold text-green-600">
                                  {showMoney ? toplamKazanc.toFixed(2) + " TL" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"}
                                </p>
                                <p className="text-xs text-green-600">
                                  {dersler.filter(d => d.odendi).length} ders √∂dendi
                                </p>
                              </div>
                            
                              {/* BEKLEYEN */}
                              <div className="bg-red-50 border-2 border-red-300 rounded-xl p-5 shadow-sm">
                                <h3 className="text-red-700 font-semibold text-sm">
                                  Bekleyen
                                </h3>
                                <p className="text-2xl font-bold text-red-600">
                                  {showMoney ? bekleyenOdeme.toFixed(2) + " TL" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"}
                                </p>
                                <p className="text-xs text-red-600">
                                  {dersler.filter(d => !d.odendi).length} ders bekliyor
                                </p>
                              </div>
                            
                            </div>


                            <div className="border-t pt-4">
                                <h3 className="font-bold text-gray-800 mb-3 text-sm">√ñƒürencilere G√∂re</h3>
                                <div className="space-y-2">
                                    {ogrenciler.map(ogrenci => {
                                        const ogrenciDersleri = dersler.filter(d => parseInt(d.ogrenciId) === ogrenci.id);
                                        const odenenler = ogrenciDersleri.filter(d => d.odendi === true).length;
                                        const bekleyenler = ogrenciDersleri.filter(d => d.odendi === false).length;
                                        const toplamOdeme = ogrenciDersleri.reduce((sum, d) => sum + parseFloat(d.ucret || 0), 0);
                                        const alinan = ogrenciDersleri.filter(d => d.odendi === true).reduce((sum, d) => sum + parseFloat(d.ucret || 0), 0);
                                        
                                        if (ogrenciDersleri.length === 0) return null;
                                        
                                        return (
                                            <div key={ogrenci.id} className="border border-gray-200 rounded-lg p-3">
                                                <div className="flex justify-between items-center">
                                                    <div>
                                                        <h4 className="font-semibold text-gray-800 text-sm">{ogrenci.ad}</h4>
                                                        <p className="text-xs text-gray-600">
                                                            √ñdenen: {odenenler} | Bekleyen: {bekleyenler}
                                                        </p>
                                                    </div>
                                                    <div className="text-right">
                                                        <p className="text-green-600 font-bold text-sm">{showMoney ? alinan.toFixed(2) + " TL" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"} </p>
                                                        <p className="text-xs text-gray-500">/ {showMoney ? toplamOdeme.toFixed(2) + " TL" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"} </p>
                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>
                    )}
                </div>

                {/* √ñƒürenci Modal */}
                {showOgrenciModal && (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                        <div className="bg-white rounded-xl shadow-2xl max-w-md w-full p-5">
                            <div className="flex justify-between items-center mb-4">
                                <h3 className="text-lg font-bold text-gray-800">
                                    {editingId ? '√ñƒürenci D√ºzenle' : 'Yeni √ñƒürenci'}
                                </h3>
                                <button onClick={() => setShowOgrenciModal(false)} className="text-gray-500">
                                    <Icon name="x" size={20} />
                                </button>
                            </div>
                            
                            <div className="space-y-3">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Ad Soyad *</label>
                                    <input
                                        type="text"
                                        value={ogrenciForm.ad}
                                        onChange={(e) => setOgrenciForm({ ...ogrenciForm, ad: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="Ahmet Yƒ±lmaz"
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Telefon</label>
                                    <input
                                        type="tel"
                                        value={ogrenciForm.telefon}
                                        onChange={(e) => setOgrenciForm({ ...ogrenciForm, telefon: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="0555 123 4567"
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Sƒ±nƒ±f</label>
                                    <input
                                        type="text"
                                        value={ogrenciForm.sinif}
                                        onChange={(e) => setOgrenciForm({ ...ogrenciForm, sinif: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="10"
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Ders √úcreti (TL)</label>
                                    <input
                                        type="number"
                                        value={ogrenciForm.ucret}
                                        onChange={(e) => setOgrenciForm({ ...ogrenciForm, ucret: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="500"
                                    />
                                </div>
                                
                                <div className="flex gap-2 pt-3">
                                    <button
                                        onClick={ogrenciEkle}
                                        className="flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium text-sm"
                                    >
                                        {editingId ? 'G√ºncelle' : 'Ekle'}
                                    </button>
                                    <button
                                        onClick={() => setShowOgrenciModal(false)}
                                        className="flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium text-sm"
                                    >
                                        ƒ∞ptal
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                )}

                {/* Ders Modal */}
                {showDersModal && (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                        <div className="bg-white rounded-xl shadow-2xl max-w-md w-full p-5">
                            <div className="flex justify-between items-center mb-4">
                                <h3 className="text-lg font-bold text-gray-800">Yeni Ders</h3>
                                <button onClick={() => setShowDersModal(false)} className="text-gray-500">
                                    <Icon name="x" size={20} />
                                </button>
                            </div>
                            
                            <div className="space-y-3">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">√ñƒürenci *</label>
                                    <select
                                        value={dersForm.ogrenciId}
                                        onChange={(e) => setDersForm({ ...dersForm, ogrenciId: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                    >
                                        <option value="">√ñƒürenci se√ßin</option>
                                        {ogrenciler.map(o => (
                                            <option key={o.id} value={o.id}>{o.ad}</option>
                                        ))}
                                    </select>
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Tarih *</label>
                                    <input
                                        type="date"
                                        value={dersForm.tarih}
                                        onChange={(e) => setDersForm({ ...dersForm, tarih: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Saat *</label>
                                    <input
                                        type="time"
                                        value={dersForm.saat}
                                        onChange={(e) => setDersForm({ ...dersForm, saat: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                    />
                                </div>
                                <div>
                                  <label className="block text-sm font-medium text-gray-700 mb-1">
                                    Ders S√ºresi (Saat)
                                  </label>
                                  <input
                                    type="number"
                                    step="0.5"
                                    min="0.5"
                                    value={dersForm.sure}
                                    onChange={(e) =>
                                      setDersForm({ ...dersForm, sure: e.target.value })
                                    }
                                    className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                  />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Konu</label>
                                    <input
                                        type="text"
                                        value={dersForm.konu}
                                        onChange={(e) => setDersForm({ ...dersForm, konu: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="Matematik - T√ºrev"
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">√úcret (TL) *</label>
                                    <input
                                        type="number"
                                        value={dersForm.ucret}
                                        readOnly
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="500"
                                    />
                                </div>
                                
                                <div className="flex gap-2 pt-3">
                                    <button
                                        onClick={dersEkle}
                                        className="flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium text-sm"
                                    >
                                        Ekle
                                    </button>
                                    <button
                                        onClick={() => setShowDersModal(false)}
                                        className="flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium text-sm"
                                    >
                                        ƒ∞ptal
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                )}

                {/* √ñdev Modal */}
                {showOdevModal && (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                        <div className="bg-white rounded-xl shadow-2xl max-w-md w-full p-5">
                            <div className="flex justify-between items-center mb-4">
                                <h3 className="text-lg font-bold text-gray-800">Yeni √ñdev</h3>
                                <button onClick={() => setShowOdevModal(false)} className="text-gray-500">
                                    <Icon name="x" size={20} />
                                </button>
                            </div>
                            
                            <div className="space-y-3">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">√ñƒürenci *</label>
                                    <select
                                        value={odevForm.ogrenciId}
                                        onChange={(e) => setOdevForm({ ...odevForm, ogrenciId: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                    >
                                        <option value="">√ñƒürenci se√ßin</option>
                                        {ogrenciler.map(o => (
                                            <option key={o.id} value={o.id}>{o.ad}</option>
                                        ))}
                                    </select>
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Konu *</label>
                                    <input
                                        type="text"
                                        value={odevForm.konu}
                                        onChange={(e) => setOdevForm({ ...odevForm, konu: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        placeholder="T√ºrev Sorularƒ±"
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">A√ßƒ±klama</label>
                                    <textarea
                                        value={odevForm.aciklama}
                                        onChange={(e) => setOdevForm({ ...odevForm, aciklama: e.target.value })}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                        rows="2"
                                        placeholder="Kitap sayfa 45-50"
                                    />
                                </div>
                                
                                <div className="flex gap-2 pt-3">
                                    <button
                                        onClick={odevEkle}
                                        className="flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium text-sm"
                                    >
                                        Ekle
                                    </button>
                                    <button
                                        onClick={() => setShowOdevModal(false)}
                                        className="flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium text-sm"
                                    >
                                        ƒ∞ptal
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                )}
            </div>
        );
    };

    ReactDOM.render(<DersPanel />, document.getElementById('root'));
</script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js')
  .then(reg => {
    console.log("Service Worker kayƒ±tlƒ±:", reg);
  })
  .catch(err => console.error("Service Worker kaydƒ± ba≈üarƒ±sƒ±z:", err));
}
</script>

</script>
<script>
window.addEventListener("load", () => {
  setTimeout(() => {
    const splash = document.getElementById("splash");
    splash.classList.add("fade-out");
    setTimeout(() => splash.remove(), 600);
  }, 1200);
});
</script>


</body>
</html>









